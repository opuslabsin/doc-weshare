<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="These instructions will help you in setup server and mobile application.">
<meta name="keywords" content=" ">
<title>Weshare Documentation | Weshare Documentation</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="documentation-weshare" href="opuslabsin.github.io/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top" style="min-height:75px;">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html"><img style="height:50px;" src="images/company_logo.png" alt="Company logo"/></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right" style="margin-top:12px;">
                <!-- toggle sidebar button -->
                <!--<li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>-->
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://opuslabs.freshdesk.com/" target="_blank">Support</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">

    <!-- Content Row -->
    <div class="row">
        
        

        <!-- Content Column -->
        <div class="col-md-12" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Weshare Documentation</h1>
</div>



<div class="post-content">

   
    <div class="summary">These instructions will help you in setup server and mobile application.</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    


    

  <h1 id="introduction">Introduction</h1>
<p>The app is connected with Laravel 5.5 based CMS using REST APIs, the following documentation will guide you through the process to connect the app with your backend.
This guide assumes you have some experience in setting up PHP based web applications and <a href="https://laravel.com/docs/5.5/">Laravel Framework 5.5</a>.</p>

<h1 id="setting-up-the-server">Setting up the server</h1>
<ol>
  <li>
    <h3 id="server-requirement">Server Requirement</h3>

    <p>The server on which you are going to deploy the backend must fulfill the following requirements:</p>
    <ul>
      <li>PHP &gt;= 7.0.0</li>
      <li>Mysql 5.7</li>
      <li>OpenSSL PHP Extension</li>
      <li>PDO PHP Extension</li>
      <li>Mbstring PHP Extension</li>
      <li>Tokenizer PHP Extension</li>
      <li>XML PHP Extension</li>
    </ul>
  </li>
  <li>
    <h3 id="deploying-backend">Deploying Backend</h3>
    <p>Follow these steps:</p>
    <ul>
      <li>Extract the <code class="highlighter-rouge">weshare.zip</code> on your server</li>
      <li>For example if your domain is http://weshare.com then you will be able to access the backend as http://weshare.com/weshare/public</li>
    </ul>
  </li>
  <li>
    <h3 id="configuration">Configuration</h3>
    <p>All the major configuration values you will need to set in .env file which is present in root folder of the accompanied source code. Following are the most important values, you may set other values in .env as well if you have experience and requirment to do so:</p>
  </li>
</ol>

<ul>
  <li><strong>App related -  Very Important</strong>:
    <ul>
      <li>APP_NAME: Title of your app</li>
      <li>APP_URL: Url of your backend</li>
    </ul>
  </li>
  <li><strong>Database related -  Very Important</strong>:
    <ul>
      <li>DB_HOST: Database host, usually it’s localhost</li>
      <li>DB_PORT: Database port, incase of mysql it’s usually 3306</li>
      <li>DB_DATABASE: Database Name</li>
      <li>DB_USERNAME: Database username</li>
      <li>DB_PASSWORD: Database password</li>
    </ul>
  </li>
  <li><strong>Firebase related -  Very Important</strong>:
    <ul>
      <li>FIREBASE_ISS: Required to succefully login through FB/Google, Value: <code class="highlighter-rouge">https://securetoken.google.com/&lt;firebase-project-id&gt;</code>. If not setup properly authentication in your app will not work properly.</li>
    </ul>
  </li>
  <li><strong>Push Notification related</strong>:
    <ul>
      <li>ONESIGNAL_APP_ID</li>
      <li>ONESIGNAL_REST_API</li>
    </ul>
  </li>
  <li><strong>Email Related</strong>:
Email integration is provided with Mailgun, Amazon SES, SMTP. For more details refer to <a href="https://laravel.com/docs/5.5/mail">https://laravel.com/docs/5.5/mail</a>.
If you are integrating with mailgun, you can simply set following values in .env
    <ul>
      <li>MAILGUN_DOMAIN</li>
      <li>MAILGUN_SECRET</li>
    </ul>

    <p>If you need more configuration or advance setting, you can look for keys starting with MAIL_ in .env</p>
  </li>
</ul>

<ol>
  <li>
    <h3 id="database">Database</h3>
    <p>In accompanied source code you will find a sql file named weshare.sql. Create the database and then import the file in your database.</p>
  </li>
  <li>
    <h3 id="admin-panel">Admin Panel</h3>
    <p>Admin panel is developed in Angular 7 and shipped in seperate folder. You will need to update app title and base url.</p>
    <ul>
      <li>Open <code class="highlighter-rouge">weshare-admin.zip</code>, it’s an Angualr 7 based project, nodejs version 8 or above is required</li>
      <li>Run <code class="highlighter-rouge">npm install</code> command if this your first time</li>
      <li>If you are not familiar with Angular 7 we will suggest you to get basic idea from <a href="https://angular.io/guide/quickstart">https://angular.io/guide/quickstart</a></li>
      <li>In <code class="highlighter-rouge">src/app/@core/models/constants.model.ts</code> update value of <code class="highlighter-rouge">API_BASE_URL</code> and <code class="highlighter-rouge">APP_NAME</code>  variables</li>
      <li>After making the required changes issue a command <code class="highlighter-rouge">ng build --prod</code></li>
      <li>Now angular would have created/updated the <code class="highlighter-rouge">dist</code> folder in root with updated compiled files</li>
      <li>You need to copy all the files in <code class="highlighter-rouge">dist</code> folder to you Laravel’s <code class="highlighter-rouge">public/admin</code> folder.</li>
      <li>For example <code class="highlighter-rouge">cp -r weshare-angular/dist/* weshare/public/admin/</code> assuming <code class="highlighter-rouge">weshare-angular</code> is your angular project folder and <code class="highlighter-rouge">weshare</code> is your laravel project folder</li>
      <li>There is also a quicker way to configure admin panel, if you do not want to do the compilation of angular project you can follow these steps but since it requires editing a non formatted js file some users might find it bit confusing or hard</li>
      <li>Open <code class="highlighter-rouge">public/admin/main.&lt;some-random-code&gt;.js</code> file in any editor of your choice</li>
      <li>Update Base Url - Search for <code class="highlighter-rouge">http://opuslabs.in:9083/api/admin</code> and replace it with your backend url for example <code class="highlighter-rouge">http://weshare.com/weshare/public/api/admin</code></li>
      <li>Update Project Title - Search for <code class="highlighter-rouge">Weshare</code> and replace it with your project title</li>
      <li>This is a just a quicker way to make ready your admin panel so that you do not have to compile whole angular project, if you are unable to configure admin panel this way, kindly fallback to steps mentioned previously that requires compilation of angular project</li>
    </ul>
  </li>
</ol>

<h1 id="mobile-app">Mobile App</h1>
<ol>
  <li>
    <h3 id="setup-firebase-and-api-keys">Setup Firebase and Api keys</h3>
    <ul>
      <li>Login to http://console.firebase.google.com</li>
      <li>Click on “Add project” to add new project -&gt; provide project name as you like and hit Create Project.</li>
      <li>Now you have to Register apps in this project. Click “Add app” -&gt; choose platform Android</li>
      <li>Each app has its unique ID known as “Package name” or “ApplicationId”. For more info on how to name one visit https://developer.android.com/studio/build/application-id</li>
      <li>Enter package name as asked on firebase console.</li>
      <li>Set a nickname(optional, but we’ll add total of three apps so..)</li>
      <li>Enter your app signing certificate(Optional but important in order to make features work like social login and otp verification. here is how to have one -&gt; https://developers.google.com/android/guides/client-auth)</li>
      <li>Click Register app. Upon succesful registration of app you’ll be provided with your configuration file(google-services.json) for that app.</li>
      <li>Go to Authentication under Developer section and enable google login and facebook login.</li>
      <li>Go to Database under Developer section and initiate real time database for chatting</li>
      <li>Go to storage under Developer section  and enable that for media uploading</li>
      <li>Lastly go to Dynamic links under Grow section and create app link for sharing</li>
    </ul>
  </li>
  <li>
    <h3 id="setup-onesignal">Setup Onesignal</h3>
    <ul>
      <li>Go to https://onesignal.com/ signup and create an app</li>
      <li>Add server key and sernder id from firebase console(Cloud messaging under project settings)</li>
      <li>You’ll get onesignal project id</li>
    </ul>
  </li>
  <li>
    <h3 id="downloadsetup-java-and-android-studio">Download/Setup Java and Android Studio</h3>
    <ul>
      <li>Download Java here: https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</li>
      <li>Download Android Studio here: https://developer.android.com/studio/
 Install and restart.</li>
    </ul>
  </li>
  <li>
    <h3 id="verify-installation">Verify installation</h3>
    <ul>
      <li>Easy steps: https://www.java.com/en/download/help/path.xml</li>
    </ul>
  </li>
  <li>
    <h3 id="running-project">Running project</h3>
    <ul>
      <li>Add configuration files(google-services.json) aquired from step 1 into respective project’s app folder.</li>
      <li>Open Android studio -&gt; Click on “Open an existing Android Studio project” to navigate and select project.</li>
      <li>Open and edit app level build.gradle file (app/build.gradle)</li>
      <li>Fill out fields in defaultConfig
  applicationId - your app package name from firebase console
  app_name - your app name
  web_client_id - copy it from firebase console for google login
  facebook_app_id and fb_login_protocol_scheme as filled in firebsae console
  dynamic_link_domain - which you got from firebase console under Dynamic links</li>
      <li>Finally modify onesignal_app_id with app id obtained from step 2 for notificaitons</li>
      <li>Change application’s BASE_URL with your’s in file app/src/main/java/com/verbosetech/weshare/network/ApiUtils.java</li>
      <li>Android studio will be asking you to Sync project files since build.gradle is modified. Hit “Sync now”</li>
      <li>Done, now you can build apk from build section in navigation menu.</li>
    </ul>

    <p>note: If you are using AdMob make sure you uncomment line numbers 30-32 in AndroidManifest.xml</p>
  </li>
</ol>

<p><strong>Note: If you are unable to understand any topic or find any topic needs more elaboration. 
Please raise an issue ticket at this link <a href="https://opuslabs.freshdesk.com">https://opuslabs.freshdesk.com</a></strong></p>


    <div class="tags">
        
    </div>




</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2019 Opus Labs. All rights reserved. <br />
 Site last generated: Nov 17, 2019 <br />
<p><img src="images/company_logo_dark.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-122814558-2','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>
